<div class="container">
  <div class="modal">
    <button class="closeButton" (click)="close()"><i class="fa fa-x"></i></button>
    <h1>Editar Usuário</h1>
    <form
      class="form"
      [formGroup]="form"
      (submit)="updateUser()"
    >
      <div class="inputComponent">
        <input
          [ngClass]="{
            error: form.get('name')?.invalid && form.get('name')?.touched
          }"
          formControlName="name"
          name="name"
          type="text"
          required
        />
        <label for="name">Nome completo (sem abreviações)</label>
        <div
          class="error"
          *ngIf="
            form.get('name')?.invalid &&
            (form.get('name')?.dirty || form.get('name')?.touched)
          "
          >Nome é necessário</div >
      </div>

      <div class="inputComponent">
        <input
          class="disabled"
          [ngClass]="{
            error: form.get('cpf')?.invalid && form.get('cpf')?.touched
          }"
          [inputMask]="cpfInputMask"
          type="text"
          formControlName="cpf"
          name="cpf"
        />
        <label for="cpf">CPF</label>
        <div
          class="error"
          *ngIf="form.get('cpf')?.invalid && form.get('cpf')?.touched"
        >
          Digite um CPF no formato: xxx.xxx.xxx-xx
        </div>
      </div>

      <div class="inputComponent">
        <input
          [ngClass]="{
            error: form.get('phone')?.invalid && form.get('phone')?.touched
          }"
          type="text"
          formControlName="phone"
          [inputMask]="phoneInputMask"
          name="phone"
          required
        />
        <label for="phone">Telefone</label>
        <div
          class="error"
          *ngIf="form.get('phone')?.invalid && form.get('phone')?.touched"
        >
          Digite um Número no formato: (99) 99999-9999
        </div>
      </div>

      <div class="inputComponent">
        <input
          [ngClass]="{
            error: form.get('email')?.invalid && form.get('email')?.touched
          }"
          type="email"
          formControlName="email"
          required
        />
        <label for="email">Email</label>
        <div
          class="error"
          *ngIf="form.get('email')?.invalid && form.get('email')?.touched"
        >
          Email inválido
        </div>
      </div>

      <button type="submit" class="button" [disabled]="form.invalid">
        <span *ngIf="!loading">{{
          editingService.getEditingStatus() === "true" ? "Editar" : "Cadastrar"
        }}</span>
        <span *ngIf="loading"
          ><img src="../../assets/loading.gif" alt="imagem de loading"
        /></span>
      </button>
    </form>
  </div>
</div>
